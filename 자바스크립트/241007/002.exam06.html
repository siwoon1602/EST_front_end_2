<!DOCTYPE html>
<html lang="ko-KR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title></title>
  </head>
  <body>
    <input type="text" />
    <button type="button">링크변환</button>
    <div class="result"></div>
    <script>
      const urlPattern = /(https?:\/\/[^\s]+)/,
        emailPattern = /([a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6})/,
        input = document.querySelector("input"),
        btn = document.querySelector("button"),
        result = document.querySelector(".result");

      btn.addEventListener("click", () => {
        const userInput = input.value;

        let convertedTxt = userInput.replace(urlPattern, (url) => {
          return `<a href=${url}>${url}로 이동합니다.</a>`;
        });

        convertedTxt = userInput.replace(emailPattern, (email) => {
          return `<a href="mailto:${email}">${email}로 메일을 보냅니다.</a>`;
        });

        result.innerHTML = convertedTxt;
      });
    </script>
  </body>
</html>
